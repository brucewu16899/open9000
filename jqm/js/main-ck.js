function initialize(){var e={zoom:13,center:new google.maps.LatLng(51.05,3.7167),mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map_canvas"),e)}function geolocation(){Modernizr.geolocation?navigator.geolocation.getCurrentPosition(geoSuccess,geoError,{timeout:1e4,enableHighAccuracy:!0}):alert("You have an ancient browser. Please upgrade to Chrome.")}function geoSuccess(e){var t=e.coords;myGeoMarker=new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),map:map,title:"My location"});var n=myGeoMarker.getPosition();map.setCenter(n)}function geoError(e){console.log(e)}function getParkings(){var e="img/parking.png";$.getJSON("http://datatank.gent.be/Mobiliteitsbedrijf/Parkings.json",function(t){infowindow=new google.maps.InfoWindow({content:""});$.each(t.Parkings.parkings,function(t,n){n.availableCapacity>=500?e="img/4+.png":n.availableCapacity>=200?e="img/2+.png":e="img/2.png";marker=new google.maps.Marker({position:new google.maps.LatLng(n.latitude,n.longitude),map:map,title:n.description,icon:e});google.maps.event.addListener(marker,"click",function(){var e=n.description,t=n.address,r=n.contactInfo;$("#parking-content h1").html(e);$("#parking-content p").html(t);$("#parking-content a").html(r)});bindInfoWindow(marker,map,infowindow,"<h1>"+this.description+"</h1>"+"<p>Places left: "+this.availableCapacity+'</p><a href="#parking" data-transition="slide">go</a>')})})}function bindInfoWindow(e,t,n,r){google.maps.event.addListener(e,"click",function(){n.setContent(r);n.open(t,e)})}var map,infowindow,contentString,marker;$(function(){initialize();getParkings()});